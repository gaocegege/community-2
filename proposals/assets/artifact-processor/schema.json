{
    "$schema": "http://json-schema.org/draft-07/schema",
    "$id": "https://raw.githubusercontent.com/goharbor/community/master/proposals/assets/artifact-processor/schema.json",
    "type": "object",
    "title": "Harbor-specific configuration schema",
    "description": "The schema comprises the entire configuration JSON document in artifact config layer.",
    "default": {},
    "examples": [{
        "schemaVersion": 1,
        "icon": "https://github.com/caicloud/ormb/raw/master/docs/images/logo.png",
        "additions": [{
                "contentType": "plain",
                "name": "type_xxx",
                "digest": "sha256:xxx"
            },
            {
                "contentType": "text",
                "name": "readme",
                "digest": "sha256:xxx"
            }
        ]
    }],
    "required": [
        "schemaVersion",
        "icon",
        "additions"
    ],
    "additionalProperties": true,
    "properties": {
        "schemaVersion": {
            "$id": "#/properties/schemaVersion",
            "type": "integer",
            "title": "The schemaVersion schema",
            "description": "The version of the schema",
            "default": 1,
            "examples": [
                1
            ]
        },
        "icon": {
            "$id": "#/properties/icon",
            "type": "string",
            "title": "The icon schema",
            "description": "Artifact icon",
            "default": "",
            "examples": [
                "https://github.com/caicloud/ormb/raw/master/docs/images/logo.png"
            ]
        },
        "additions": {
            "$id": "#/properties/additions",
            "type": "array",
            "title": "The additions schema",
            "description": "additions of the artifact",
            "default": [],
            "examples": [
                [{
                        "contentType": "plain",
                        "name": "type_xxx",
                        "digest": "sha256:xxx"
                    },
                    {
                        "contentType": "text",
                        "name": "readme",
                        "digest": "sha256:xxx"
                    }
                ]
            ],
            "additionalItems": true,
            "items": {
                "anyOf": [{
                    "$id": "#/properties/additions/items/anyOf/0",
                    "type": "object",
                    "title": "The addition schema",
                    "description": "One artifact addition",
                    "default": {},
                    "examples": [{
                        "contentType": "plain",
                        "name": "type_xxx",
                        "digest": "sha256:xxx"
                    }],
                    "required": [
                        "contentType",
                        "name",
                        "digest"
                    ],
                    "additionalProperties": true,
                    "properties": {
                        "contentType": {
                            "$id": "#/properties/additions/items/anyOf/0/properties/contentType",
                            "type": "string",
                            "title": "The contentType schema",
                            "description": "Content type of the addition",
                            "default": "",
                            "examples": [
                                "plain"
                            ]
                        },
                        "name": {
                            "$id": "#/properties/additions/items/anyOf/0/properties/name",
                            "type": "string",
                            "title": "The name schema",
                            "description": "Name of the addition",
                            "default": "",
                            "examples": [
                                "type_xxx"
                            ]
                        },
                        "digest": {
                            "$id": "#/properties/additions/items/anyOf/0/properties/digest",
                            "type": "string",
                            "title": "The digest schema",
                            "description": "Digest of the addition",
                            "default": "",
                            "examples": [
                                "sha256:xxx"
                            ]
                        }
                    }
                }],
                "$id": "#/properties/additions/items"
            }
        }
    }
}